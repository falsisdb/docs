---
toc: false
---
# Olaylar

Olaylar ya da `eventlar`, modÃ¼l iÃ§inde yapÄ±lan herhangi bir veritabanÄ± deÄŸiÅŸikliÄŸini okumak ve bu deÄŸiÅŸiklik sonrasÄ±nda ayarlanan iÅŸlemi gerÃ§ekleÅŸtirmek iÃ§in oluÅŸturulmuÅŸ fonksiyonlardÄ±r. Falsisdb'de ÅŸimdilik 3 adet olay bulunur: `dataSet`, `dataDelete` ve `backup`. Bu olaylarÄ±n kullanÄ±mÄ± neredeyse aynÄ±dÄ±r. YalnÄ±zca tetiklemek iÃ§in yapÄ±lmasÄ± gereken deÄŸiÅŸiklik farklÄ±dÄ±r.

Bu olaylarÄ± `on()` isimli olay okuma fonksiyonu kullanÄ±larak kullanabilirsiniz. AyrÄ±ca her Ã¼Ã§ olay fonksiyonunun iÃ§inde de `data` isimli klasik bir nesne bulunur. Bu nesnede olaya baÄŸlÄ± olarak "veri ismi, eski deÄŸeri, yeni deÄŸeri" gibi deÄŸerler yer alÄ±r.

### dataSet
`dataSet` olayÄ± veritabanÄ±na herhangi bir veri eklendiÄŸinde tetiklenir. Bu ise Ã¶rneÄŸin `set()` fonksiyonu kullanÄ±ldÄ±ÄŸÄ±nda tetikleneceÄŸi anlamÄ±na gelir.

```js
db.on("dataSet", (data) => {
    if(data.changed == true){
        console.log(`ğŸ“ Veri TabanÄ±nda Bir Veri DeÄŸiÅŸtirildi\n- Veri AdÄ±: ${data.key}\n- Eski DeÄŸeri: ${data.oldValue}\n- Yeni DeÄŸeri: ${data.value}`) 
    }
    if(data.newAdded == true){
        console.log(`ğŸ“ Veri TabanÄ±na Bir Veri Eklendi\n- Veri AdÄ±: ${data.key}\n- Veri DeÄŸeri: ${data.value}`) 
    }
    console.log(data) 
})
```
`data` nesnesi iÃ§indeki `changed` deÄŸeri `boolean` tÃ¼rÃ¼ndedir ve verinin deÄŸiÅŸtirilip deÄŸiÅŸtirilmediÄŸini gÃ¶sterir. Bunu deÄŸiÅŸiklik yapÄ±lan verinin yeni mi eklendiÄŸini yoksa sadece deÄŸerinin mi deÄŸiÅŸtirildiÄŸini anlamak iÃ§in kullanabilirsiniz. AynÄ± yukarÄ±daki Ã¶rnekte olduÄŸu gibi. `key` deÄŸeri verinin adÄ±nÄ±, `oldValue` eski deÄŸerini ve `value` de yeni deÄŸerini gÃ¶sterir. EÄŸer `changed` deÄŸeri `false` ise `oldValue` size `null` olarak dÃ¶ndÃ¼rÃ¼lÃ¼r. `newAdded` deÄŸeri ise direkt olarak verinin yeni eklenip eklenmediÄŸini yine `boolean` tÃ¼rÃ¼nde dÃ¶ndÃ¼rÃ¼r. Bunu `changed` deÄŸeri ile zaten yapabildiÄŸiniz iÃ§in, ikisinden birini kullanmanÄ±z yeterli olur.

### dataDelete
`dataDelete` olayÄ± veritabanÄ±ndan herhangi bir veri silindiÄŸinde tetiklenir. Bu ise Ã¶rneÄŸin `delete()` fonksiyonu kullanÄ±ldÄ±ÄŸÄ±nda tetikleneceÄŸi anlamÄ±na gelir.

```js
db.on("dataDelete", (data) => {
    console.log(`ğŸ“ Veri TabanÄ±nda Bir Veri Silindi\n- Veri AdÄ±: ${data.key}\n- Eski DeÄŸeri: ${data.value}`)
})
```

Bu olayÄ±n `data` nesnesinde `dataSet`den farklÄ± olarak Ã§ok fazla deÄŸer bulunmaz. Burada yalnÄ±zca silinen verinin adÄ±nÄ± dÃ¶ndÃ¼ren `key` ve silinmeden Ã¶nceki deÄŸerini dÃ¶ndÃ¼ren `value` deÄŸerleri yer alÄ±r.

### backup
Yedekleme nesneleri ve sistemleri size biraz karÄ±ÅŸÄ±k gelebilir. Bunu Ã¶nlemek iÃ§in bu olayÄ± [Yedekleme](/belgeler/yedekleme) bÃ¶lÃ¼mÃ¼nde ayrÄ±ntÄ±lÄ± olarak anlatacaÄŸÄ±z. EÄŸer buna ihtiyacÄ±nÄ±z varsa, lÃ¼tfen yedekleme sayfasÄ±na gÃ¶z atÄ±n.

## Olay AralÄ±ÄŸÄ±

[TanÄ±mlamalar](/belgeler/tanimlamalar) kÄ±smÄ±nda da bahsettiÄŸimiz olay aralÄ±ÄŸÄ±, veya o nesne iÃ§indeki adÄ±yla `eventInterval`, verilerin deÄŸiÅŸip deÄŸiÅŸmediÄŸinin kontrol edildiÄŸi sÃ¼redir. TanÄ±mlama nesnesinde milisaniye olarak ayarlanr ve varsayÄ±lanÄ± 1000'dir. Yani 1 saniyedir. Bu deÄŸerin tanÄ±mlamalar nesnesinde `number` tÃ¼rÃ¼nde olmasÄ± gerekiyor.